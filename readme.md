# Cerber
### Сервис для регистрации на мероприятия

## Локальный запуск
В проекте используется реляционная база данных PostgreSQL, которая разворачивается
прямо на запускаемом хосте. Соответственно, для локального запуска у вас
должен быть установлен постгрес. Строка подключения к бд задаётся
в файле `/cerber/Web/appsettings.json` по пути `$.ConnectionStrings.DbConnection`

В этом же файле задаются секреты для почтового клиента, с которого будут
отправлять билеты пользователям, по пути `$.EmailCredentials`. Без заполнения этих данных
приложение будет работать, кроме функциональности для отправки писем

Далее необходимо скомпилировать фронтенд, перевенсти react typescript + scss в js и css.
Для этого необходимо установить все npm пакеты, находясь в папке `/cerber/WebFront`
выполните команду
```shell
npm install
```

После загрузки пакетов надо запустить вебпак для компиляции и сборки всех зависимостей.
для этого в этой же папке пропишите
```shell
npm run startDev
```
После успешной компиляции вебпак можно остановить

Для запуска самого сервиса необходимо собрать и запустить консольное приложения dotnet,
для этого находясь в папке /cerber/Web выполните команду
```shell
dotnet run
```

Сервис запустится и начнёт работать по адресу https://localhost:7061 для защищённого
соединения и http://localhost:5226 для незащищённого по протоколу http

## RabbitMQ
Сервис использует сервер RabbitMq для генерации билетов пользователей по шаблону
и их отправки на почту.

Оф документация по уствноке на винду: https://www.rabbitmq.com/docs/install-windows.
Крутой видос в помощь: https://www.youtube.com/watch?v=KhYiaEOrw7Q.

P.S.: необходимо установить erlang, rabbitmq server, запустить плагины,
все подробности в видео.

Сервер запустится по адресу http://localhost:5672/.

Мониторинг сервера запустится по адресу http://localhost:15672/,
пароль и логин по умолчанию - guest:guest. 